@model IEnumerable<Order>

<h3>Pedidos por Período</h3>

<nav class="navbar navbar-dark">
    <div class="container-fluid">
        <form class="navbar-form navbar-left">
            <div class="form-group">
                <div class="form-group">
                    <label for="minDate">Data Inicial:</label>
                    <input type="date" class="form-control" name="minDate"
                           value=@ViewData["minDate"] />
                </div>
                <div class="form-group">
                    <label for="maxDate">Data Final:</label>
                    <input type="date" class="form-control" name="maxDate"
                           value=@ViewData["maxDate"] />
                </div>
            </div>
            <br />
            <button type="submit" class="btn btn-success">Filtrar</button>
        </form>
    </div>
</nav>
<hr />

<div class="panel panel-primary">
    <div class="panel-heading">
        <h5 class="panel-title">Total de Pedidos: @Model.Count()</h5>
        <h5 class="panel-title">Total de Lanches: @Model.Sum(obj => obj.Items).ToString()</h5>
        <h5 class="panel-title">Valor Total: @Model.Sum(obj => obj.TotalOrder).ToString()</h5>
    </div>
    <hr />
    <div class="panel-body">
        <table class="table table-striped table-hover">
            <thead>
                <th>Pedido</th>
                <th>Nome</th>
                <th>E-Mail</th>
                <th>Telefone</th>
                <th>Total</th>
                <th>Itens</th>
                <th>Entrega</th>
            </thead>
            <tbody>
                @foreach (Order item in Model) {
                    <tr>
                        <td align="center">@item.Id</td>
                        <td>@item.Client</td>
                        <td>@item.EMail</td>
                        <td align="center">@item.Phone</td>
                        <td align ="right">@item.TotalOrder.ToString("N")</td>
                        <td align="center">@item.Items</td>
                        <td align="center">@item.DeliveryDate.ToString("d")</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>